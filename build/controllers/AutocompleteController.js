"use strict";define(["./module"],function(e){e.controller("AutocompleteController",["$scope","AutocompleteService",function(e,t){e.autocomplete={items:[]},e.selectItem=function(t){e.autocomplete.activeItem=t},e.getAutocompleteData=function(t){e.autocomplete.items=[],e.menu.activeTab.title=="artist"?e.getArtists(t):e.menu.activeTab.title=="location"&&e.getCities(t)},e.getArtists=function(n){t.getArtistsData(n).success(function(t){if(typeof t.results!="undefined"){var n=t.results.artistmatches.artist;typeof n!="undefined"&&n.length&&(e.autocomplete.items=n)}})},e.getCities=function(n){t.getCitiesData(n).success(function(t){t.length&&(e.autocomplete.items=[],t.length=5,t.forEach(function(t){var n=t.split(", ");e.autocomplete.items.push({name:n[0],meta:n[2]})}))})},e.$on("resetAutocomplete",function(){e.autocomplete.items=[]})}])});